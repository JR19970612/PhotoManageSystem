<!DOCTYPE html>
<html>
	<head>
		<title></title>
		<meta charset="UTF-8">
		<link rel="stylesheet" type="text/css" href="../Css/bootstrap.css" />
		<link rel="stylesheet" type="text/css" href="../Css/bootstrap-responsive.css" />
		<link rel="stylesheet" type="text/css" href="../Css/style.css" />
		<script type="text/javascript" src="../Js/jquery.js"></script>
		<script type="text/javascript" src="../Js/bootstrap.js"></script>
		<script type="text/javascript" src="../Js/ckform.js"></script>
		<script type="text/javascript" src="../Js/common.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
		<script  type="text/javascript" src="../allvariable.js"></script>



		<style type="text/css">
			body {
				padding-bottom: 40px;
			}

			.sidebar-nav {
				padding: 9px 0;
			}

			@media (max-width: 980px) {

				/* Enable use of floated navbar text */
				.navbar-text.pull-right {
					float: none;
					padding-left: 5px;
					padding-right: 5px;
				}
			}
		</style>
	</head>
	<body>
		<div id="app">
			<form action="http://localhost:8080/gdpi/photo" method="post" class="definewidth m20" enctype="multipart/form-data" >
			<table class="table table-bordered table-hover definewidth m10">
				<tr>
					<td width="10%" class="tableleft">图片名称</td>
					<td><input type="text" name="photoName" /></td>
				</tr>
				<tr>
					<td width="10%" class="tableleft">图片描述</td>
					<td><input type="text" name="photoDesc" /></td>
				</tr>
				<tr>
					<td class="tableleft">所属相册id</td>
					<td>
						<!--<input type="text" name="albumId" />-->
						<select  name="albumId" v-for="item in albums" >
							<option :value="item.albumId">{{item.albumName}}</option>
						</select>
					</td>
				</tr>
				<tr>
					<td>
						<label for="exampleInputFile">选择图片</label>
						<input type="file" name="photo" id="exampleInputFile">
					</td>
				</tr>

				<tr>
					<td class="tableleft"></td>
					<td>
						<button class="btn btn-primary" type="submit">提交</button>
						<button class="btn btn-primary" type="reset">重置</button>
						<button type="button" class="btn btn-success" name="backid" id="backid">返回列表</button>
					</td>
				</tr>
			</table>
			</form>
		</div>
	</body>
</html>
<script>

//    http://127.0.0.1:8080/gdpi/albums

var app = new Vue({
    el: '#app',
    data: {
        type: "photoName",
        searchKey: "",
        albums: [],
        page: 1,
        pageConut: 5
    },
    mounted: function() {
        this.getAllAlbumInfo();
    },
    methods: {
        getAllAlbumInfo: function() { //查找单张照片
            var url = URL+"albums";
            var _self = this;
            $.get(url, function(data) {
                _self.albums = data.data;
            })
        },
    }

});

	$(function() { //返回列表
		$('#backid').click(function() {
			window.location.href = "index.html";
		});

	});
</script>
